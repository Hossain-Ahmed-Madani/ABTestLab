(async()=>{const t={client:"ROI Revolutions",project:"PDP - Add Sticky Add to Cart (Iteration) [M]",site_url:"https://www.domyown.com",test_name:"PDP - Add Sticky Add to Cart (Iteration) [M]",page_initials:"AB-STICKY-ADD-TO-CART",test_variation:1,test_version:1e-4},{page_initials:a,test_variation:e,test_version:n}=t;async function o(t,a=2e4,e=150){const n=Date.now();return new Promise(((o,r)=>{if("function"==typeof t&&t())return o(!0);const i=setInterval((()=>Date.now()-n>=a?(clearInterval(i),r(new Error(`Timeout of ${a}ms reached while waiting for condition: ${t.toString()}`))):"function"==typeof t&&t()?(clearInterval(i),o(!0)):void 0),e)}))}function r(t,a){return document.querySelector(t)}function i(t){const e=r("body");modifierClassName=`${a}--show-sticky`,"show"===t?e.classList.add(modifierClassName):"hide"===t&&e.classList.remove(modifierClassName)}function c(){var t,a;r("#add-to-cart-area input.add-to-cart").insertAdjacentHTML("afterend",'<button type="button" class="button-primary ab-add-to-cart text-lg w-full md:w-4/5 text-center">Add to Cart</button>'),r("body").insertAdjacentHTML("afterbegin",'\n                <div class="ab-sticky-cart-container">\n                    <button type="button" class="button-primary ab-sticky-add-to-cart text-lg w-full md:w-4/5 text-center">Add to Cart</button>\n                </div>\n            '),(t=".ab-add-to-cart, .ab-sticky-add-to-cart",a?[...t.querySelectorAll(a)]:[...document.querySelectorAll(t)]).forEach((t=>t.addEventListener("click",(()=>r("#add-to-cart-area input.add-to-cart").click()))))}try{return await o((function(){return!(!r(`body:not(.${a}):not(${a}--v${e})`)||!r("#add-to-cart-area input.add-to-cart"))})),r("body").classList.add(a,`${a}--v${e}`,`${a}--version:${n}`),function(){const t=navigator.userAgent;return/Safari/.test(t)&&!/Chrome/.test(t)}()&&r("body").classList.add(`${a}--safari`),console.table(t),c(),async function(){await o((()=>r("#add-to-cart-area .ab-add-to-cart")));const t=r("#add-to-cart-area .ab-add-to-cart");new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting?i("hide"):!t.isIntersecting&&t.boundingClientRect.top<0?i("show"):i("hide")}))}),{root:null,rootMargin:"0px",threshold:0}).observe(t)}(),!0}catch(t){return console.warn(t),!1}})();
