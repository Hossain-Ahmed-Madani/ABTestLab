var n;n=setInterval((function(){if(document.head){clearInterval(n);var t=document.createElement("style");t.innerHTML='.AB-PDP-ATC-MODAL #modal-window-added-product .modal-content {\n  position: absolute;\n  right: -100%;\n  top: 0;\n  min-height: 100%;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  #braintree-loading-container,\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .text-center.text-sm.text-grey-darker {\n  display: none;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .text-sm.mt-2\n  .mt-8 {\n  margin-top: 15px;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .modal-content-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .modal-content-header\n  h3\n  span {\n  display: none;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .modal-content-header\n  h3 {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n}\n.AB-PDP-ATC-MODAL\n  #modal-window-added-product\n  .modal-content\n  .modal-content-header\n  h3:before {\n  content: "";\n  width: 18px;\n  height: 11px;\n  border-bottom: 3px solid #0a7806;\n  border-left: 3px solid #0a7806;\n  display: inline-block;\n  transform: rotate(-45deg);\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product .modal-content .close-x {\n  position: static;\n  order: 1;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product #braintree-asset-container,\n.AB-PDP-ATC-MODAL #modal-window-added-product #braintree-loading-container {\n  display: none;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product a.button-primary[href="https://www.domyown.com/checkout/payment"]\n{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 3px;\n}\n.AB-PDP-ATC-MODAL a.close-modal {\n  display: none;\n}\n.AB-PDP-ATC-MODAL .ab-close-modal {\n  order: 1;\n  color: #333;\n  font-size: 2.25rem;\n}\n.AB-PDP-ATC-MODAL .modal-content {\n  padding-left: 0;\n  padding-right: 0;\n}\n.AB-PDP-ATC-MODAL .modal-content-header,\n.AB-PDP-ATC-MODAL .modal-content-body > div {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: none;\n  z-index: 9999;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product.is-active {\n  display: block;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product .modal-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  opacity: 0;\n  transition: opacity 0.3s ease-in-out;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product .modal-background.is-active {\n  opacity: 1;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product .modal-content {\n  position: absolute;\n  top: 0;\n  right: -110%;\n  height: 100%;\n  background: #fff;\n  transition: right 0.3s ease-in-out;\n}\n.AB-PDP-ATC-MODAL #modal-window-added-product .modal-content.is-active {\n  right: 0;\n}\n',document.head.appendChild(t),setTimeout((()=>{clearInterval(n)}),5e3)}}),100),(()=>{const n={client:"ROI Revolutions",project:"Do My Own",site_url:"https://www.domyown.com/termidor-sc-p-184.html",test_name:"PDP - Add a Post ATC Modal (Iteration) [M]",page_initials:"AB-PDP-ATC-MODAL",test_variation:1,test_version:1e-4},{page_initials:t,test_variation:e,test_version:o}=n;function d(n,t){return t?n.querySelector(t):document.querySelector(n)}function a(){return new MutationObserver(((n,t)=>{d("#modal-window-added-product:not(.ab-modal-updated)")&&(console.log("Modal added to body"),function(){const n=d("#modal-window-added-product:not(.ab-modal-updated)"),t=d(n,"section.modal-content-body > .flex.flex-wrap > .w-full.border-l.px-4");if(t&&(t.classList.remove("border-1"),t.classList.add("border-t","pt-2"),d(n,".quick-view-addons")?.insertAdjacentElement("afterend",t)),d(n,".modal-content-header")&&!d(n,".ab-close-modal")&&d(n,".modal-content-header").insertAdjacentHTML("afterbegin",'<div class="ab-close-modal" rel="added-product">Ã—</div>'),d(n,".quick-view-addons div[data-rfkid='rfkid_32']:empty")&&!d(n,".ab-cloned-node")){const t=d("#page-content .mt-2.md\\:mt-4.pt-3.md\\:border-t.md\\:pb-4 > div").cloneNode(!0);t.classList.add("ab-cloned-node"),d(n,".quick-view-addons")?.insertAdjacentElement("beforeend",t)}var e;(e=".modal-background, .ab-close-modal",[...document.querySelectorAll(e)]).forEach((n=>{n.addEventListener("click",(n=>{n.preventDefault(),function(){const n=d("#modal-window-added-product"),t=d(n,".modal-background"),e=d(n,".modal-content");t.classList.remove("is-active"),e.classList.remove("is-active"),setTimeout((()=>{n.classList.remove("is-active"),d(n,".close-modal").click()}),300)}()}))})),n.classList.add("ab-modal-updated")}(),function(){const n=d("#modal-window-added-product"),t=d(n,".modal-background"),e=d(n,".modal-content");n.classList.add("is-active"),n.offsetWidth,t.classList.add("is-active"),e.classList.add("is-active")}())})).observe(d("body"),{attributes:!1,childList:!0,subtree:!1})}!function n(t,e,o=1e4,d=150){o<=0||(t&&t()?e():setTimeout((()=>n(t,e,o-d,d)),d))}((function(){return!!(window?.location?.pathname?.includes("-p-")&&d(`body:not(.${t}):not(${t}--v${e})`)&&d("form#cart-quantity")&&d("input.add-to-cart"))}),(function(){document.body.classList.add(t,`${t}--v${e}`,`${t}--version:${o}`),console.table(n),function(){const n=d("input.add-to-cart");n.addEventListener("click",(t=>{t.preventDefault(),n.setAttribute("disabled","true");const e=d('form#cart-quantity input[name="_token"]').getAttribute("value"),o=window.location.origin+window.location.pathname;(async function(n,t,e,o){const d=new URLSearchParams;d.append("_token",n),d.append("products_id",t),d.append(`cart_quantity[${t}]`,e),d.append("cart_quantity_entered",e);try{const t=await fetch("https://www.domyown.com/cart",{headers:{accept:"application/json, text/javascript, */*; q=0.01","accept-language":"en-US,en;q=0.9","content-type":"application/x-www-form-urlencoded; charset=UTF-8",priority:"u=1, i","sec-ch-ua":'"Google Chrome";v="141", "Not?A_Brand";v="8", "Chromium";v="141"',"sec-ch-ua-mobile":"?1","sec-ch-ua-platform":'"Android"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","x-csrf-token":n,"x-newrelic-id":"VwEGVF9SGwEHUVNXBgY=","x-requested-with":"XMLHttpRequest"},referrer:o,body:d.toString(),method:"POST",mode:"cors",credentials:"include"}),e=await t.json();return console.log("Add to Cart Response:",e),{status:e.response,htmlContent:e.content,cartItems:e.cart,dataLayer:e.dataLayer,rfkData:e.rfk}}catch(n){throw console.error("Add to Cart Error:",n),n}})(e,d("#products-grid").getAttribute("data-selected-products-id"),d("#product_qty_display").innerText||0,o).then((async n=>{console.log("Cart updated successfully:",n),await async function(n){document.createElement("div").innerHTML=n,d("body").insertAdjacentHTML("afterbegin",n),d("#modal-window-added-product").style.display="block"}(n.htmlContent),console.log("Modal HTML inserted")})).catch((n=>{console.error("Failed to add to cart:",n)})).finally((()=>{n.removeAttribute("disabled")}))}))}(),a()}))})();
