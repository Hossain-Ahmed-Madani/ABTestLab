(async()=>{const t={client:"Acadia",project:"vicicollection",host:"https://www.vicicollection.com/",test_name:"VC115: [COLLECTION] Filter Quantities - (2) SET UP TEST",page_initials:"AB-VC115",test_variation:1,test_version:1e-4},{page_initials:e,test_variation:n,test_version:o}=t;function a(t,e){return e?t.querySelector(e):document.querySelector(t)}function c(){console.log("updateLayout...");const t="ab-quantity-added";var e,n;(e='input[type="checkbox"][data-count]',n?[...e.querySelectorAll(n)]:[...document.querySelectorAll(e)]).forEach((e=>{if(e.parentNode.classList.contains(t)||a(e.parentNode,".ab-label"))return;const n=e.parentNode;n.classList.add(t);const o=e.getAttribute("data-count"),c=a(n,"label").getAttribute("class");n.insertAdjacentHTML("beforeend",`<label class="ab-label ${c}" for="${e.getAttribute("id")}">&nbsp;(${o})</label>`)}))}function i(){a(".collection-filter-sort").addEventListener("click",(t=>{t.target.closest(".collection-filter-sort__filter, .collection-filter-sort__more-filters-cta-wrapper, .collection-filter-sort__filter-button")&&function(t,e=""){console.log("fireGA4Event",t,t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":t,"ga4-event-p2-name":"event_label","ga4-event-p2-value":e})}("VC115_FilterView")}))}try{await async function(t,e=2e4,n=150){const o=Date.now();return new Promise(((a,c)=>{if("function"==typeof t&&t())return a(!0);const i=setInterval((()=>Date.now()-o>=e?(clearInterval(i),c(new Error(`Timeout of ${e}ms reached while waiting for condition: ${t.toString()}`))):"function"==typeof t&&t()?(clearInterval(i),a(!0)):void 0),n)}))}((function(){return!!(a(`body:not(.${e}):not(${e}--v${n})`)&&a(".collection-filters-modal__content input[type='checkbox'][data-count]")&&a('input[type="checkbox"][data-count]')&&a(".collection-filter-sort"))})),a("body").classList.add(e,`${e}--v${n}`,`${e}--version:${o}`),console.table(t),c(),function(){const t=a(".collection-filters-modal__content"),e=new MutationObserver(c);t&&e.observe(t,{childList:!0,subtree:!0,attributes:!0,characterData:!0})}(),i()}catch(t){return console.warn(t),!1}})();
