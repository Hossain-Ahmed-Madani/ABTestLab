(async()=>{var e;e="fired",console.log("%cAcadia%cVC120-V1","color: white; background: rgb(0, 0, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;","margin-left: 8px; color: white; background: rgb(0, 57, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;",e);const t={client:"Acadia",project:"Project Name",site_url:"https://www.vicicollection.com",test_name:"VC120: [COLLECTION] Reorder Filters Based on Engagement (2) SET UP TEST",page_initials:"AB-VC120",test_variation:1,test_version:1e-4},{page_initials:n,test_variation:o,test_version:r}=t;function i(e,t=""){console.log("fireGA4Event:",e,t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":e,"ga4-event-p2-name":"event_label","ga4-event-p2-value":t})}function a(e,t){return t?e.querySelector(t):document.querySelector(e)}function c(e,t){return t?[...e.querySelectorAll(t)]:[...document.querySelectorAll(e)]}const l={1:["Size","Style","Color","By Price","Category"],2:["Style","Color","Size","Category","By Price"]}[o];function s(){console.log("Update Layout..."),c("ul.vue-accordion").forEach((e=>{const t=a(e,".collection-filters__accordion-title"),n=t.textContent.replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g," ").trim();l.some((e=>{if(t&&n)return e===n}))?e.hasAttribute("ab-filter-type")&&e.getAttribute("ab-filter-type")===n||(e.setAttribute("ab-filter-type",n),"Size"===n&&a(e,".vue-accordion__content:not([style])")&&0===c(e,'input[type="checkbox"][aria-selected="true"]').length&&a(e,".vue-accordion__trigger.btn").click()):e.removeAttribute("ab-filter-type")}))}try{await async function(e,t=2e4,n=150){const o=Date.now();return new Promise(((r,i)=>{if("function"==typeof e&&e())return r(!0);const a=setInterval((()=>Date.now()-o>=t?(clearInterval(a),i(new Error(`Timeout of ${t}ms reached while waiting for condition: ${e.toString()}`))):"function"==typeof e&&e()?(clearInterval(a),r(!0)):void 0),n)}))}((function(){return!(!a(`body:not(.${n}):not(.${n}--v${o})`)||!a(".collection-filters-modal__inner-content-wrapper"))})),a("body").classList.add(n,`${n}--v${o}`,`${n}--version:${r}`),console.table(t),s(),function(){const e=a(".collection-filters-modal__inner-content-wrapper");new MutationObserver(s).observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0})}(),a(".collection-filters-modal__inner-content-wrapper").addEventListener("click",(e=>{if(e.target.closest(".filter-options__list-item")){const t=e.target.closest(".filter-options__list-item");i("VC120_FilterClick",`${a(e.target.closest(".vue-accordion__item"),".vue-accordion__trigger.btn").textContent.trim()} - ${a(t,"label.filter-options__list-item-text").textContent.trim()}`)}if(e.target.closest(".vue-accordion__trigger.btn")){const t=e.target.closest(".vue-accordion__trigger.btn").parentNode;setTimeout((()=>{t.classList.contains("is-open")&&i("VC120_FilterView","")}),150)}}))}catch(e){return console.warn(e),!1}})();
