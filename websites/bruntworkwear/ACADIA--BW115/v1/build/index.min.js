var t;t="fired",console.log("%cAcadia%cBW115-V1","color: white; background: rgb(0, 0, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;","margin-left: 8px; color: white; background: rgb(0, 57, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;",t),(async()=>{const t={client:"Acadia",project:"bruntworkwear",host:"https://bruntworkwear.com",test_name:"BW115: [PRODUCTS] Sold Out Product Redirect (2) SET UP TEST",page_initials:"AB-BW115",test_variation:1,test_version:2e-4},{host:e,page_initials:o,test_variation:r,test_version:a}=t,s='\n            <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path\n                    d="M21.7703 19.8501L27.5867 25.6651L25.6651 27.5867L19.8501 21.7703C17.6864 23.5048 14.9952 24.4482 12.2221 24.4443C5.47551 24.4443 0 18.9687 0 12.2221C0 5.47551 5.47551 0 12.2221 0C18.9687 0 24.4443 5.47551 24.4443 12.2221C24.4482 14.9952 23.5048 17.6864 21.7703 19.8501ZM19.0461 18.8424C20.7693 17.0698 21.7317 14.6942 21.7282 12.2221C21.7282 6.97069 17.4736 2.71603 12.2221 2.71603C6.97069 2.71603 2.71603 6.97069 2.71603 12.2221C2.71603 17.4736 6.97069 21.7282 12.2221 21.7282C14.6942 21.7317 17.0698 20.7693 18.8424 19.0461L19.0461 18.8424ZM13.8219 7.02908C13.4214 7.20997 13.0709 7.48531 12.8002 7.83147C12.5296 8.17764 12.347 8.5843 12.2681 9.01655C12.1892 9.44881 12.2163 9.89375 12.3472 10.3132C12.4781 10.7327 12.7087 11.1141 13.0194 11.4248C13.3301 11.7355 13.7116 11.9662 14.131 12.0971C14.5505 12.2279 14.9955 12.2551 15.4277 12.1762C15.86 12.0973 16.2666 11.9147 16.6128 11.644C16.959 11.3734 17.2343 11.0228 17.4152 10.6224C17.7721 11.7816 17.7307 13.0269 17.2977 14.1599C16.8647 15.2929 16.0649 16.2484 15.0258 16.8741C13.9868 17.4998 12.7682 17.7598 11.5642 17.6126C10.3602 17.4653 9.2402 16.9194 8.38253 16.0617C7.52486 15.2041 6.97892 14.084 6.83169 12.8801C6.68445 11.6761 6.94441 10.4575 7.57012 9.41843C8.19584 8.37936 9.15131 7.5796 10.2843 7.14658C11.4173 6.71356 12.6626 6.6722 13.8219 7.02908Z"\n                    fill="#D15420"\n                />\n            </svg>\n        ',n={matched_category:"",matched_category_url:"",product_category_urls:[{title:"Boots",url:"https://bruntworkwear.com/collections/boots?sort=MANUAL&reverse=false",related_categories:["Boot","Insole"]},{title:"Pants & Shorts",url:"https://bruntworkwear.com/collections/pants-shorts?sort=MANUAL&reverse=false",related_categories:["Pant"]},{title:"Shirts",url:"https://bruntworkwear.com/collections/t-shirts?sort=MANUAL&reverse=false",related_categories:["T-shirt","T-shirts"]},{title:"Hoodies & Jackets",url:"https://bruntworkwear.com/collections/hoodies-jackets?sort=MANUAL&reverse=false",related_categories:["Sweatshirt","Jacket","Vest"]},{title:"Hats & Beanies",url:"https://bruntworkwear.com/collections/hats-beanie?sort=MANUAL&reverse=false",related_categories:["Hats"]},{title:"Accessories",url:"https://bruntworkwear.com/collections/accessories?sort=MANUAL&reverse=false",related_categories:["Accessories","Sock","BRUNT Box"]},{title:"Packs & Bundles",url:"https://bruntworkwear.com/collections/packs-bundles?sort=MANUAL&reverse=false",related_categories:["Pack"]}]};function c(t,e=""){console.log("fireGA4Event:",t,e),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":t,"ga4-event-p2-name":"event_label","ga4-event-p2-value":e})}async function i(){url=e+window.location.pathname+".json";const t=await async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){return null}}(url),o=t?.product?.product_type??null,r=n.product_category_urls;return n.matched_category=o,n.matched_category_url=r.filter((t=>t.related_categories.some((t=>t.toLowerCase()===o.toLowerCase()))))?.[0]?.url??"https://bruntworkwear.com/collections/accessories?sort=MANUAL&reverse=false",{productType:o,matchedCategoryURL:n.matched_category_url}}function l(t,e){return e?t.querySelector(e):document.querySelector(t)}function u(){!function(){if(l(".ab-sold-out-message"))return;const t=(e=".product__additionalStyleParent .product__optionWrapper",[...document.querySelectorAll(e)]);var e;t[t.length-1].insertAdjacentHTML("afterend",`\n                <div class="ab-sold-out-message">\n                    <div class="ab-sold-out-message__icon">${s}</div>\n                    <div class="ab-sold-out-message__message">\n                        <span>Size Sold Out?</span>\n                        <a href="${n.matched_category_url}">Shop Similar Items</a>\n                    </div>\n                </div>\n            `)}(),function(){const t=l(".product__additionalStyleParent"),e="ab-show-sold-out-message";l(t,".isUnavailable")?t.classList.add(e):t.classList.remove(e)}()}function d(){const t=l(".product__additionalStyleParent"),e=function(t,e){let o;return function(...r){clearTimeout(o),o=setTimeout((()=>{clearTimeout(o),t(...r)}),e)}}(u,150);return new MutationObserver(e).observe(t,{childList:!0,subtree:!0,attributes:!0})}const p="ontouchstart"in window?"touchstart":"click";let w=!1,g=!1;function _(t){if(t.target.closest(".product__optionButton")&&setTimeout((()=>{t.target.closest(".product__optionButton").classList.contains("isUnavailable")&&(c("BW115_OutofStock","Clicked Out Of Stock"),w=!0)}),100),t.target.closest(".ab-sold-out-message__message a")){t.preventDefault();const e=t.target.closest(".ab-sold-out-message__message a").getAttribute("href");c("BW115_CTAClick","Shop Similar Items"),g=!0,setTimeout((()=>{t.ctrlKey?window.open(e,"_blank"):window.location.href=e}),100)}w&&g&&l("body").removeEventListener(p,_)}try{return await async function(t,e=2e4,o=150){const r=Date.now();return new Promise(((a,s)=>{if("function"==typeof t&&t())return a(!0);const n=setInterval((()=>Date.now()-r>=e?(clearInterval(n),s(new Error(`Timeout of ${e}ms reached while waiting for condition: ${t.toString()}`))):"function"==typeof t&&t()?(clearInterval(n),a(!0)):void 0),o)}))}((function(){return!(!l(`body:not(.${o}):not(${o}--v${r})`)||!l(".product__additionalStyleParent .product__optionWrapper:last-child"))})),async function(){l("body").classList.add(o,`${o}--v${r}`,`${o}--version:${a}`),console.table(t);const{productType:e,matchedCategoryURL:s}=await i();console.log("productType",e,"matchedCategoryURL",s),u(),d(),l("body").addEventListener(p,_)}(),!1}catch(t){return console.warn(t),!1}})();
