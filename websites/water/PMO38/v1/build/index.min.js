(async()=>{var e;e="fired",console.log("%cAcadia%cPMO38-V1","color: white; background: rgb(0, 0, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;","margin-left: 8px; color: white; background: rgb(0, 57, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;",e);const t={client:"Acadia",project:"Water",site_url:"https://order.water.com",test_name:"PMO38: [CART] Clean Up Order Summary-(2) SET UP TEST",page_initials:"AB-PMO38",test_variation:1,test_version:1e-4},{page_initials:a,test_variation:r,test_version:n}=t,i='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M10.9565 6C10.9565 4.68545 10.4339 3.42511 9.50442 2.49558C8.57489 1.56606 7.31455 1.04348 6 1.04348C4.68545 1.04348 3.42511 1.56606 2.49558 2.49558C1.56606 3.42511 1.04348 4.68545 1.04348 6C1.04348 6.65075 1.17154 7.29516 1.42052 7.8964C1.6696 8.49775 2.03533 9.04416 2.49558 9.50442C2.95584 9.96467 3.50225 10.3304 4.1036 10.5795C4.70483 10.8285 5.34925 10.9565 6 10.9565C6.65075 10.9565 7.29517 10.8285 7.8964 10.5795C8.49775 10.3304 9.04416 9.96467 9.50442 9.50442C9.96467 9.04416 10.3304 8.49775 10.5795 7.8964C10.8285 7.29517 10.9565 6.65075 10.9565 6ZM6 5.47826C6.28815 5.47826 6.52174 5.71185 6.52174 6V7.9127H6.60836C6.89639 7.9127 7.12991 8.14645 7.1301 8.43444C7.1301 8.72259 6.8965 8.95618 6.60836 8.95618H6C5.71185 8.95618 5.47826 8.72259 5.47826 8.43444V6.52174H5.39164C5.1035 6.52174 4.8699 6.28815 4.8699 6C4.8699 5.71185 5.1035 5.47826 5.39164 5.47826H6ZM6.00611 3.04382C6.29425 3.04383 6.52785 3.27742 6.52785 3.56556C6.52767 3.85354 6.29414 4.08728 6.00611 4.0873H6C5.71196 4.0873 5.47844 3.85355 5.47826 3.56556C5.47826 3.27741 5.71185 3.04382 6 3.04382H6.00611ZM12 6C12 6.78783 11.8449 7.56798 11.5435 8.29586C11.242 9.02381 10.7993 9.68504 10.2422 10.2422C9.68504 10.7993 9.02381 11.242 8.29586 11.5435C7.56798 11.8449 6.78783 12 6 12C5.21217 12 4.43202 11.8449 3.70414 11.5435C2.97619 11.242 2.31496 10.7993 1.75781 10.2422C1.20066 9.68504 0.75805 9.02381 0.456522 8.29586C0.15507 7.56798 1.37789e-08 6.78783 0 6C2.37122e-08 4.4087 0.632594 2.88303 1.75781 1.75781C2.88303 0.632594 4.4087 0 6 0C7.5913 4.9415e-08 9.11697 0.632594 10.2422 1.75781C11.3674 2.88303 12 4.4087 12 6Z"\n                fill="black"\n            />\n        </svg> ',s='<svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M0.140238 1.08712C-0.0599864 0.825263 -0.0458649 0.439249 0.182964 0.195163C0.411794 -0.0489224 0.77368 -0.0639854 1.01917 0.149589L1.06678 0.195163L5 4.39062L8.93322 0.195163L8.98083 0.149588C9.22632 -0.0639858 9.58821 -0.0489228 9.81704 0.195163C10.0459 0.439249 10.06 0.825262 9.85976 1.08712L9.81704 1.1379L5.44191 5.80473C5.19782 6.06509 4.80218 6.06509 4.55809 5.80473L0.182964 1.1379L0.140238 1.08712Z"\n                fill="#0067C3"\n            />\n        </svg> ';function o(e,t=""){console.log("fireGA4Event",e,t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":e,"ga4-event-p2-name":"event_label","ga4-event-p2-value":t})}function l(e,t){return t?e.querySelector(t):document.querySelector(e)}function c(e,t){return t?[...e.querySelectorAll(t)]:[...document.querySelectorAll(e)]}function d(e,t){let a;return function(...r){clearTimeout(a),a=setTimeout((()=>{clearTimeout(a),e(...r)}),t)}}function u(e){if(!e)return 0;const t=parseFloat(String(e).replace(/[^0-9.\-]/g,""));return isNaN(t)?0:t}function p(...e){return e.reduce(((e,t)=>e+u(t)),0).toFixed(2)}function m(){const e={"one-time-purchase-total":"$0.00","one-time-purchase":{"one-time products":"$0.00","one-time refundable deposit fee":"$0.00"},"recurring-charges-total":"$0.00","recurring charges":{"recurring products":"$0.00",delivery:"$0.00"},others:{},"estimated credit card fee":"$0.00",taxes:"$0.00","estimated total":"$0.00"};return c(".wrapper-section.flex.flex-col.gap-2\\.5 .wrapper-totals-item").forEach((t=>{const a=l(t,"span[x-text='segment.label']")?.textContent?.toLowerCase().trim()??"",r=l(t,"span.text-nowrap")?.textContent?.trim()??"";a&&(a.includes("one-time")?e["one-time-purchase"][a]=r:a.includes("recurring")||a.includes("delivery")?e["recurring charges"][a]=r:a.includes("estimated credit card fee")||a.includes("taxes")?e[a]=r:e.others[a]=r)})),e["one-time-purchase-total"]=`$${p(...Object.values(e["one-time-purchase"]))}`,e["recurring-charges-total"]=`$${p(...Object.values(e["recurring charges"]))}`,e["estimated total"]=l(".wrapper-section.flex.flex-col.gap-2\\.5 .wrapper-section__total  .flex.items-end.flex-col .font-semibold span")?.textContent?.trim()??"",e}function v(e,t){const a=l(`div[ab-col-label="${e}"]`);if(!a)return;const r=a.parentNode;a.innerText=t,r.hasAttribute("others")&&0===u(t)?r.classList.add("hidden"):r.classList.remove("hidden")}function f(){if(!l(".ab-summary-wrapper"))return;const e=m();Object.keys(e).forEach((t=>{const a=e[t];"object"==typeof a&&null!==a?"object"==typeof a&&Object.keys(a).forEach((e=>{v(e,a[e])})):v(t,a)}))}let b;function x(){"/checkout/cart/"===window.location.pathname?g():(window[a]=!1,document.body.classList.remove(a,`${a}--v${r}`,`${a}--version:${n}`),l(".ab-summary-wrapper")?.remove(),b?.disconnect(),b=null)}function w(){return!!(l(`body:not(.${a}):not(.${a}--v${r})`)&&"complete"===document.readyState&&l(".wrapper-section.flex.flex-col.gap-2\\.5")&&l("button.btn.btn-primary.btn-size-default.btm-size-full.shadow-btn"))}async function g(){if(!0!==window[a])try{await async function(e,t=2e4,a=150){const r=Date.now();return new Promise(((n,i)=>{if("function"==typeof e&&e())return n(!0);const s=setInterval((()=>Date.now()-r>=t?(clearInterval(s),i(new Error(`Timeout of ${t}ms reached while waiting for condition: ${e.toString()}`))):"function"==typeof e&&e()?(clearInterval(s),n(!0)):void 0),a)}))}(w),window[a]=!0,l("body").classList.add(a,`${a}--v${r}`,`${a}--version:${n}`),console.log(t),function(){if(l(".ab-summary-wrapper"))return;const e=m();l(".wrapper-section.flex.flex-col.gap-2\\.5").insertAdjacentHTML("afterend",`\n                <div class="ab-summary-wrapper flex flex-col">\n                    <div class="ab-summary-dropdown-container flex flex-col">\n                        <div class="ab-summary-dropdown flex flex-col" aria-expanded="false">\n                            <div class="ab-summary-dropdown__head">\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-lg text-left text-nowrap">One-time Purchase</div>\n                                    <div class="ab-txt-lg text-right uppercase ml-auto" ab-col-label="one-time-purchase-total">${e["one-time-purchase-total"]}</div>\n                                    <div class="ab-summary-dropdown__arrow flex justify-end items-center">${s}</div>\n                                </div>\n                            </div>\n                            <div class="ab-summary-dropdown__body flex flex-col">\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-regular text-left text-nowrap">One-Time Products</div>\n                                    <div class="ab-txt-regular text-right uppercase" ab-col-label="one-time products">${e["one-time-purchase"]["one-time products"]}</div>\n                                </div>\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-regular text-left text-nowrap flex items-center">\n                                        <span>One-Time Refundable Deposit Fee</span>\n                                        <span class="ab-summary-more-info flex justify-center items-center">${i}</span>\n                                    </div>\n                                    <div class="ab-txt-regular text-right uppercase" ab-col-label="one-time refundable deposit fee">\n                                        ${e["one-time-purchase"]["one-time refundable deposit fee"]}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="ab-summary-dropdown flex flex-col" aria-expanded="false">\n                            <div class="ab-summary-dropdown__head">\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-lg text-left text-nowrap">Recurring Charges</div>\n                                    <div class="ab-txt-lg text-right uppercase ml-auto" ab-col-label="recurring-charges-total">${e["recurring-charges-total"]}</div>\n                                    <div class="ab-summary-dropdown__arrow flex justify-end items-center">${s}</div>\n                                </div>\n                            </div>\n                            <div class="ab-summary-dropdown__body flex flex-col">\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-regular text-left text-nowrap">Recurring Products</div>\n                                    <div class="ab-txt-regular text-right uppercase" ab-col-label="recurring products">${e["recurring charges"]["recurring products"]}</div>\n                                </div>\n                                <div class="ab-summary-row flex justify-between">\n                                    <div class="ab-txt-regular text-left text-nowrap flex items-center">Delivery</div>\n                                    <div class="ab-txt-regular text-right uppercase" ab-col-label="delivery">${e["recurring charges"].delivery}</div>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class="ab-wrapper-section__total flex flex-col justify-between">\n                            ${e.others&&Object.keys(e.others).length>0?`\n                                      <div class="ab-summary-row-others flex flex-col justify-between">\n                                          ${Object.keys(e.others).map((t=>`\n                                                      <div class="ab-summary-row flex justify-between ${0===u(e.others[t])?"hidden":""}" others>\n                                                          <div class="ab-txt-regular text-left text-nowrap capitalize">${t}</div>\n                                                          <div class="ab-txt-regular text-right uppercase" ab-col-label="${t}">${e.others[t]}</div>\n                                                      </div>\n                                                  `)).join("")}\n                                      </div>\n                                  `:""}\n                            <div class="ab-summary-row flex justify-between">\n                                <div class="ab-txt-regular text-left text-nowrap">Estimated Credit Card Fee</div>\n                                <div class="ab-txt-regular text-right uppercase" ab-col-label="estimated credit card fee">${e["estimated credit card fee"]}</div>\n                            </div>\n                            <div class="ab-summary-row flex justify-between">\n                                <div class="ab-summary-label ab-txt-regular text-left text-nowrap">Taxes</div>\n                                <div class="ab-summary-value ab-txt-regular text-right text-nowrap uppercase" ab-col-label="taxes">${e.taxes}</div>\n                            </div>\n                            <div class="ab-summary-row ab-summary-row--total flex justify-between">\n                                <div class="ab-summary-label ab-txt-lg text-left text-nowrap">Estimated Total</div>\n                                <div class="ab-summary-value flex flex-col items-end">\n                                    <div class="ab-txt-lg text-right text-nowrap uppercase" ab-col-label="estimated total">${e["estimated total"]}</div>\n                                    <div class="ab-txt-sm text-right text-nowrap">Billed on the first invoice</div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `)}(),c(".ab-summary-dropdown__head").forEach((e=>{const t=e.parentNode;e.addEventListener("click",(()=>{o("PMO38_SummaryAccordion",l(e,".text-left").textContent);const a="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",!a)}))})),l("button.btn.btn-primary.btn-size-default.btm-size-full.shadow-btn").addEventListener("click",(e=>{o("PMO38_CheckoutCTAClick","Proceed to Checkout")})),l(".ab-summary-more-info").addEventListener("click",(e=>l(".wrapper-summary-totals__inner .cursor-pointer.modal-v2__trigger__ready")?.click())),b=function(){const e=l(".wrapper-section.flex.flex-col.gap-2\\.5:not(.ab-mutation-added)");if(!e)return;e.classList.add("ab-mutation-added");const t=d(f,150),a=new MutationObserver(t);return a.observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),a}()}catch(e){return!1}}g(),function(){const e=d(x,150),t=history.pushState;history.pushState=function(){t.apply(history,arguments),window.dispatchEvent(new Event("pushstate"))},window.addEventListener("popstate",(function(t){console.log("==== < Navigation occurred (back/forward button) ===="),e()})),window.addEventListener("pushstate",(function(){console.log("=== > History state was changed programmatically ==="),e()}))}()})();
