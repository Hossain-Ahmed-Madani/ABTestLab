var e;e="fired",console.log("%cAcadia%cEDC11-V1","color: white; background: rgb(0, 0, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;","margin-left: 8px; color: white; background: rgb(0, 57, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;",e),(async()=>{const e={client:"Acadia",project:"urbanedc",host:"https://urbanedc.com",test_name:"EDC11: [HEADER - Mobile] Add Search Into Header with Panel - (2) SET UP TEST",page_initials:"AB-EDC11",test_variation:1,test_version:1e-4},{host:t,page_initials:a,test_variation:n,test_version:o}=e,i='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M0.649 11.5647L0 10.9157L5.13333 5.78233L0 0.649L0.649 0L5.78233 5.13333L10.9157 0L11.5647 0.649L6.43133 5.78233L11.5647 10.9157L10.9157 11.5647L5.78233 6.43133L0.649 11.5647Z"\n                fill="black"\n            />\n        </svg> ',s='<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M12.5001 12.5001L9.6048 9.6048M9.6048 9.6048C10.1001 9.10955 10.4929 8.52159 10.761 7.8745C11.029 7.22742 11.1669 6.53387 11.1669 5.83347C11.1669 5.13307 11.029 4.43953 10.761 3.79244C10.4929 3.14535 10.1001 2.5574 9.6048 2.06214C9.10955 1.56688 8.52159 1.17402 7.8745 0.905986C7.22742 0.637954 6.53387 0.5 5.83347 0.5C5.13307 0.5 4.43953 0.637954 3.79244 0.905986C3.14535 1.17402 2.5574 1.56688 2.06214 2.06214C1.06192 3.06236 0.5 4.41895 0.5 5.83347C0.5 7.248 1.06192 8.60458 2.06214 9.6048C3.06236 10.605 4.41895 11.1669 5.83347 11.1669C7.248 11.1669 8.60458 10.605 9.6048 9.6048Z"\n                stroke="black"\n                stroke-linecap="round"\n                stroke-linejoin="round"\n            />\n        </svg> ',c={featured_collections:[{title:"Knife",link:"https://urbanedc.com/collections/in-stock-knives"},{title:"Patch",link:"https://urbanedc.com/collections/urban-edc-ranger-eye-patches"},{title:"Fidget",link:"https://urbanedc.com/collections/in-stock-games"},{title:"Mutitool",link:"https://urbanedc.com/collections/in-stock-keychains-multitools"},{title:"Flashlight",link:"https://urbanedc.com/collections/in-stock-flashlights"},{title:"Lanyard",link:"https://urbanedc.com/collections/in-stock-lanyard-beads"}]};function l(e,t=""){console.log("GA4 Event Fired:",e,t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":e,"ga4-event-p2-name":"event_label","ga4-event-p2-value":t})}async function r(){const e=u(await async function(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}`);const a=await t.text();return(new DOMParser).parseFromString(a,"text/html")}catch(e){return null}}(t),"section").find((e=>u(e,"h2.font-heading.text-heading-standard.break-words").some((e=>e.innerText.includes("This Week's Gear Drop:")))));return u(e,"ul.carousel-track.flex.overflow-x-scroll.scroll-smooth.gap-media-grid.items-start.snap-x.snap-mandatory.snap-always.relative li").map((e=>({title:_(e,".break-words")?.innerText?.trim(),link:_(e,"a").getAttribute("href"),imgUrl:_(e,"img.tile-media").getAttribute("src")})))}async function d(e,t=2e4,a=150){const n=Date.now();return new Promise(((o,i)=>{if("function"==typeof e&&e())return o(!0);const s=setInterval((()=>Date.now()-n>=t?(clearInterval(s),i(new Error(`Timeout of ${t}ms reached while waiting for condition: ${e.toString()}`))):"function"==typeof e&&e()?(clearInterval(s),o(!0)):void 0),a)}))}function _(e,t){return t?e.querySelector(t):document.querySelector(e)}function u(e,t){return t?[...e.querySelectorAll(t)]:[...document.querySelectorAll(e)]}function m(e,t,a){e&&(t.includes(".")&&t.replace(".",""),e.classList.add(t),setTimeout((()=>e.classList.remove(t)),a))}function h(e){e.target!==document.body&&!document.body.contains(e.target)||e.target.closest(".AB-EDC11__modal__gear-drop-items")||e.preventDefault()}function v(e="show"){const t=`${a}--modal-show`,n=document.body,o=_(`.${a}__modal`);"show"!==e||n.classList.contains(t)||(m(o,"slide-bottom",200),o.classList.add("slide-bottom"),n.classList.add(t),document.addEventListener("touchmove",h,{passive:!1})),"hide"===e&&(m(o,"slide-top",200),setTimeout((()=>n.classList.remove(t)),200),document.removeEventListener("touchmove",h))}const p="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?"touchend":"click";function g(e){const t=e.currentTarget;e.preventDefault(),l("EDC11_ClickedSearch");const a=_(t.parentNode,"input[type='search']").value.replace(" ","+");setTimeout((()=>window.location.href=`/search?q=${a}`),150)}const f=[{selector:`.${a}__modal__show-cta`,event:p,callback:e=>{e.preventDefault(),e.stopPropagation(),v("show")}},{selector:`.${a}__modal__close-cta`,event:p,callback:e=>v("hide")},{selector:`.${a}__modal-backdrop`,event:p,callback:e=>{e.target.closest(`.${a}__modal`)||v("hide")}},{selector:`.${a}__modal__search-cta`,event:p,callback:g},{selector:'form[action="/search"] button[aria-label="Search"]',event:p,callback:g},{selector:`.${a}__modal__featured-item`,event:p,callback:e=>{e.preventDefault(),l("EDC11_ClickedCategory",e.target.innerText),setTimeout((()=>window.location.href=e.target.getAttribute("href")),150)}}];try{await d((function(){return!!(_(`body:not(.${a}):not(${a}--v${n})`)&&_(".row-start-1.lg\\:col-span-item.lg\\:col-end-\\[-1\\]")&&_('#DrawerMenu form[action="/search"] button[aria-label="Search"]'))})),_("body").classList.add(a,`${a}--v${n}`,`${a}--version:${o}`),console.table(e),async function(){const e=await r();_(".row-start-1.lg\\:col-span-item.lg\\:col-end-\\[-1\\] > .flex.flex-wrap.justify-end.items-top.gap-5").insertAdjacentHTML("afterbegin",`<div class="${a}__modal__show-cta uppercase js-enabled block lg:hidden" type="button">Search</div>`),_("body").insertAdjacentHTML("afterbegin",`\n                <div class="${a}__modal-layout">\n                    <div class="${a}__modal-backdrop"></div>\n                    <div class="${a}__modal">\n                        <div class="${a}__modal__container">\n                            <div class="${a}__modal__top">\n                                <div class="${a}__modal__search">\n                                    <button class="${a}__modal__search-cta" type="button">${s}</button>\n                                    <input id="ab-search" type="search" class="${a}__modal__search-input" placeholder="Search" autocomplete="off" />\n                                </div>\n                                <button class="${a}__modal__close-cta" type="button">${i}</button>\n                            </div>\n                            <div class="${a}__modal__gear-drop-container">\n                                <div class="${a}__modal__gear-drop-title">This Week's Gear Drop</div>\n                                <div class="${a}__modal__gear-drop-items">\n                                    ${e.map((({title:e,link:n,imgUrl:o})=>`\n                                                <a href="${t+n}" class="${a}__modal__gear-drop-item">\n                                                    <span class="${a}__modal__gear-drop-item-img"><img src="${o}" alt="${e}" /></span>\n                                                    <span class="${a}__modal__gear-drop-item-title">${e}</span>\n                                                </a>\n                                            `)).join("")}\n                                </div>\n                            </div>\n                            <div class="${a}__modal__featured-collections-container">\n                                <div class="${a}__modal__featured-collections-title">Featured Collections</div>\n                                <div class="${a}__modal__featured-collections">\n                                    ${c.featured_collections.map((({title:e,link:t})=>`<a href="${t}" class="${a}__modal__featured-item"> ${e} </a>`)).join("")}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `)}(),f.forEach((async({selector:e,event:t,callback:a})=>{const n=`ab-${t})-attached`;await d((()=>u(e).length>0),5e3,200),u(e).forEach((e=>{e.classList.contains(n)||(e.classList.add(n),e.addEventListener(t,a))}))}))}catch(e){return console.warn(e),!1}})();
