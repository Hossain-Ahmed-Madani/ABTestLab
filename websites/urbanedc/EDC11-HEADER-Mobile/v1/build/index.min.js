var e;e="fired",console.log("%cAcadia%cEDC11-V1","color: white; background: rgb(0, 0, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;","margin-left: 8px; color: white; background: rgb(0, 57, 57); font-weight: 700; padding: 2px 4px; border-radius: 2px;",e),(async()=>{const e={client:"Acadia",project:"urbanedc",host:"https://urbanedc.com",test_name:"EDC11: [HEADER - Mobile] Add Search Into Header with Panel - (2) SET UP TEST",page_initials:"AB-EDC11",test_variation:1,test_version:1e-4},{host:t,page_initials:n,test_variation:a,test_version:o}=e,i='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M0.649 11.5647L0 10.9157L5.13333 5.78233L0 0.649L0.649 0L5.78233 5.13333L10.9157 0L11.5647 0.649L6.43133 5.78233L11.5647 10.9157L10.9157 11.5647L5.78233 6.43133L0.649 11.5647Z"\n                fill="black"\n            />\n        </svg> ',s='<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path\n                d="M12.5001 12.5001L9.6048 9.6048M9.6048 9.6048C10.1001 9.10955 10.4929 8.52159 10.761 7.8745C11.029 7.22742 11.1669 6.53387 11.1669 5.83347C11.1669 5.13307 11.029 4.43953 10.761 3.79244C10.4929 3.14535 10.1001 2.5574 9.6048 2.06214C9.10955 1.56688 8.52159 1.17402 7.8745 0.905986C7.22742 0.637954 6.53387 0.5 5.83347 0.5C5.13307 0.5 4.43953 0.637954 3.79244 0.905986C3.14535 1.17402 2.5574 1.56688 2.06214 2.06214C1.06192 3.06236 0.5 4.41895 0.5 5.83347C0.5 7.248 1.06192 8.60458 2.06214 9.6048C3.06236 10.605 4.41895 11.1669 5.83347 11.1669C7.248 11.1669 8.60458 10.605 9.6048 9.6048Z"\n                stroke="black"\n                stroke-linecap="round"\n                stroke-linejoin="round"\n            />\n        </svg> ',r={featured_collections:[{title:"Knife",link:"https://urbanedc.com/collections/in-stock-knives"},{title:"Patch",link:"https://urbanedc.com/collections/urban-edc-ranger-eye-patches"},{title:"Fidget",link:"https://urbanedc.com/collections/in-stock-games"},{title:"Mutitool",link:"https://urbanedc.com/collections/in-stock-keychains-multitools"},{title:"Flashlight",link:"https://urbanedc.com/collections/in-stock-flashlights"},{title:"Lanyard",link:"https://urbanedc.com/collections/in-stock-lanyard-beads"}]};function l(e,t=""){console.log("GA4 Event Fired:",e,t),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":e,"ga4-event-p2-name":"event_label","ga4-event-p2-value":t})}async function c(){const e=_(await async function(e){try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}`);const n=await t.text();return(new DOMParser).parseFromString(n,"text/html")}catch(e){return null}}(t),"section").find((e=>_(e,"h2.font-heading.text-heading-standard.break-words").some((e=>e.innerText.includes("This Week's Gear Drop:")))));return _(e,"ul.carousel-track.flex.overflow-x-scroll.scroll-smooth.gap-media-grid.items-start.snap-x.snap-mandatory.snap-always.relative li").map((e=>({title:d(e,".break-words")?.innerText?.trim(),link:d(e,"a").getAttribute("href"),imgUrl:d(e,"img.tile-media").getAttribute("src")})))}function d(e,t){return t?e.querySelector(t):document.querySelector(e)}function _(e,t){return t?[...e.querySelectorAll(t)]:[...document.querySelectorAll(e)]}function u(e,t,n){e&&(t.includes(".")&&t.replace(".",""),e.classList.add(t),setTimeout((()=>e.classList.remove(t)),n))}function m(e){e.target!==document.body&&!document.body.contains(e.target)||e.target.closest(".AB-EDC11__modal__gear-drop-items")||e.preventDefault()}function h(e="show"){const t=`${n}--modal-show`,a=document.body,o=d(`.${n}__modal`);"show"!==e||a.classList.contains(t)||(u(o,"slide-bottom",200),o.classList.add("slide-bottom"),a.classList.add(t),document.addEventListener("touchmove",m,{passive:!1})),"hide"===e&&(u(o,"slide-top",200),setTimeout((()=>a.classList.remove(t)),200),document.removeEventListener("touchmove",m))}try{await async function(e,t=2e4,n=150){const a=Date.now();return new Promise(((o,i)=>{if("function"==typeof e&&e())return o(!0);const s=setInterval((()=>Date.now()-a>=t?(clearInterval(s),i(new Error(`Timeout of ${t}ms reached while waiting for condition: ${e.toString()}`))):"function"==typeof e&&e()?(clearInterval(s),o(!0)):void 0),n)}))}((function(){return!!(d(`body:not(.${n}):not(${n}--v${a})`)&&d(".row-start-1.lg\\:col-span-item.lg\\:col-end-\\[-1\\]")&&d('#DrawerMenu form[action="/search"] button[aria-label="Search"]'))})),d("body").classList.add(n,`${n}--v${a}`,`${n}--version:${o}`),console.table(e),async function(){const e=await c();d(".row-start-1.lg\\:col-span-item.lg\\:col-end-\\[-1\\] > .flex.flex-wrap.justify-end.items-top.gap-5").insertAdjacentHTML("afterbegin",`<button class="${n}__modal__show-cta uppercase js-enabled block lg:hidden" type="button">Search</button>`),d("body").insertAdjacentHTML("afterbegin",`\n                <div class="${n}__modal-layout">\n                    <div class="${n}__modal-backdrop"></div>\n                    <div class="${n}__modal">\n                        <div class="${n}__modal__container">\n                            <div class="${n}__modal__top">\n                                <div class="${n}__modal__search">\n                                    <button class="${n}__modal__search-cta" type="button">${s}</button>\n                                    <input id="ab-search" type="text" class="${n}__modal__search-input" placeholder="Search" autocomplete="off" />\n                                </div>\n                                <button class="${n}__modal__close-cta" type="button">${i}</button>\n                            </div>\n                            <div class="${n}__modal__gear-drop-container">\n                                <div class="${n}__modal__gear-drop-title">This Week's Gear Drop</div>\n                                <div class="${n}__modal__gear-drop-items">\n                                    ${e.map((({title:e,link:a,imgUrl:o})=>`\n                                                <a href="${t+a}" class="${n}__modal__gear-drop-item">\n                                                    <span class="${n}__modal__gear-drop-item-img"><img src="${o}" alt="${e}" /></span>\n                                                    <span class="${n}__modal__gear-drop-item-title">${e}</span>\n                                                </a>\n                                            `)).join("")}\n                                </div>\n                            </div>\n                            <div class="${n}__modal__featured-collections-container">\n                                <div class="${n}__modal__featured-collections-title">Featured Collections</div>\n                                <div class="${n}__modal__featured-collections">\n                                    ${r.featured_collections.map((({title:e,link:t})=>`<a href="${t}" class="${n}__modal__featured-item"> ${e} </a>`)).join("")}\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `),d(`.${n}__modal__show-cta`).addEventListener("click",(()=>h("show"))),d(`.${n}__modal__close-cta`).addEventListener("click",(()=>h("hide"))),d(`.${n}__modal-backdrop`).addEventListener("click",(e=>{e.target.closest(`.${n}__modal`)||h("hide")})),d(`.${n}__modal__search-cta`).addEventListener("click",(()=>{l("EDC11_ClickedSearch"),d('#DrawerMenu form[action="/search"] button[aria-label="Search"]').click()})),d(`.${n}__modal__search-input`).addEventListener("input",(e=>{_('#DrawerMenu form[action="/search"] input[type="search"][name="q"]').forEach((t=>t.value=e.target.value))})),_(`.${n}__modal__featured-item`).forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),l("EDC11_ClickedCategory",e.target.innerText),setTimeout((()=>window.location.href=e.target.getAttribute("href")),150)}))}))}()}catch(e){return console.warn(e),!1}})();
