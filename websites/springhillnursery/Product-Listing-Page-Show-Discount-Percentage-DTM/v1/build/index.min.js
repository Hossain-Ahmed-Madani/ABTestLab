(()=>{const e={client:"ROI Revolution",project:"springhillnursery",site_url:"https://springhillnursery.com/",test_name:"Product Listing Page - Show Discount Percentage [DTM]",page_initials:"AB-PLP-DTM",test_variation:1,test_version:1e-4};function t(){document.querySelectorAll(".product-item__price-wrap:has(.sale)").forEach((e=>{let t=e.querySelector(".ab-savings-percentage");t||(t=document.createElement("span"),t.className="displayed-discount badge-shape fs-body-75 ab-savings-percentage",t.setAttribute("data-badge-shape","rounded-rectangle"),e.insertAdjacentElement("beforeend",t)),t.innerText="Save"+function(e){const t=e.querySelector("s");if(!t)return null;const n=t.textContent.match(/[\d,.]+/),o=e.textContent.match(/\$\s?([\d,.]+)/g);if(!n||!o||o.length<2)return null;const i=parseFloat(n[0].replace(/,/g,"")),r=parseFloat(o[o.length-1].replace(/[^0-9.]/g,""));if(isNaN(i)||isNaN(r)||i<=r)return null;const a=(i-r)/i*100;return Math.round(a)}(e.querySelector(".sale"))+"%"}))}!function e(t,n,o=1e4,i=100){try{if(o<=0)throw new Error(`Timeout reached while waiting for condition: ${t.toString()}`);t&&t()?n():setTimeout((()=>{e(t,n,o-i,i)}),i)}catch(e){return}}((function(){return!!(window.location.href.includes("/collections/")&&document.querySelector(`body:not(.${e.page_initials}):not(${e.page_initials}--v${e.test_variation})`)&&document.querySelector(".collection__products-container #root"))}),(function(){document.body.classList.add(e.page_initials,`${e.page_initials}--v${e.test_variation}`,`${e.page_initials}--version${e.test_version}`),console.table(e),t(),function(){const e=document.querySelector(".collection__products-container #root");new MutationObserver(((e,n)=>{t()})).observe(e,{childList:!0})}()}))})();
