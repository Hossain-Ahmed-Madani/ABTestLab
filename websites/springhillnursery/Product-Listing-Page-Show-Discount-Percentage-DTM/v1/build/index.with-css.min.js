var e;e=setInterval((function(){if(document.head){clearInterval(e);var n=document.createElement("style");n.innerHTML=".AB-PLP-DTM .product-item__price-wrap {\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-self: center;\n  flex-direction: column;\n  gap: 3px;\n}\n.AB-PLP-DTM .ab-savings-percentage {\n  margin-top: 5px;\n  background-color: rgba(202, 94, 92, 0.05);\n  border: 1px solid #641f33;\n  border-radius: 0;\n  padding: 3px 8px;\n  color: #7f2841;\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 1.2;\n  width: max-content;\n  height: max-content;\n  margin: auto;\n  margin-top: 5px;\n  display: inline-flex;\n  align-self: center;\n  justify-content: center;\n  align-items: center;\n}\n@media screen and (min-width: 1025px) {\n  .AB-PLP-DTM .product-item__price-wrap {\n    flex-direction: row;\n  }\n  .AB-PLP-DTM .ab-savings-percentage {\n    margin-left: 0;\n    margin-right: 0;\n  }\n}\n",document.head.appendChild(n),setTimeout((()=>{clearInterval(e)}),5e3)}}),100),(()=>{const e={client:"ROI Revolution",project:"springhillnursery",site_url:"https://springhillnursery.com/",test_name:"Product Listing Page - Show Discount Percentage [DTM]",page_initials:"AB-PLP-DTM",test_variation:1,test_version:6e-4};function n(){document.querySelectorAll(".product-item:has(.sale)").forEach(((e,n)=>{let t=e.querySelector(".ab-savings-percentage");t||(t=document.createElement("span"),t.className="displayed-discount badge-shape fs-body-75 ab-savings-percentage",t.setAttribute("data-badge-shape","rounded-rectangle"),e.querySelector(".product-item__price-wrap").insertAdjacentElement("afterend",t));const r=e.querySelector(".sale"),i=e.querySelector("s.t-subdued");t.innerText="Save "+function(e,n){let t,r;if(e.querySelector("s.t-subdued")){const i=n.textContent.match(/[\d,.]+/),o=e.textContent.match(/\$\s?([\d,.]+)/g);if(!i||!o||o.length<2)return null;if(t=parseFloat(i[0].replace(/,/g,"")),r=parseFloat(o[o.length-1].replace(/[^0-9.]/g,"")),isNaN(t)||isNaN(r)||t<=r)return null}else{const i=n.textContent,o=e.textContent,a=i.match(/[\d,.]+/),c=o.match(/[\d,.]+/);if(!a||!c)return null;if(t=parseFloat(a[0].replace(/,/g,"")),r=parseFloat(c[0].replace(/,/g,"")),isNaN(t)||isNaN(r)||t<=r)return null}const i=(t-r)/t*100;return Math.round(i)}(r,i)+"%"}))}!function e(n,t,r=2e4,i=100){r<=0?console.warn(`Timeout reached while waiting for condition: ${n.toString()}`):n&&n()?t():setTimeout((()=>{e(n,t,r-i,i)}),i)}((function(){return!!(window.location.href.includes("/collections/")&&document.querySelector(`body:not(.${e.page_initials}):not(${e.page_initials}--v${e.test_variation})`)&&document.querySelector(".collection__products-container #root"))}),(function(){console.table(e);const{page_initials:t,test_variation:r,test_version:i}=e;document.body.classList.add(t,`${t}--v${r}`,`${t}--version${i}`),n(),function(){const e=document.querySelector(".collection__products-container #root");new MutationObserver(((e,t)=>{n()})).observe(e,{childList:!0})}()}))})();
