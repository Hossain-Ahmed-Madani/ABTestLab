var e;e=setInterval((function(){if(document.head){clearInterval(e);var t=document.createElement("style");t.innerHTML=".AB-PLP-DTM .product-item__price-wrap {\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  align-self: center;\n  flex-direction: column;\n  gap: 3px;\n  margin-bottom: 5px;\n}\n.AB-PLP-DTM .ab-savings-percentage {\n  background-color: rgba(202, 94, 92, 0.05);\n  border: 1px solid #641f33;\n  border-radius: 0;\n  padding: 2px 5px;\n  color: #7f2841;\n  font-weight: 700;\n  font-size: 14px;\n  line-height: 1.2;\n  width: max-content;\n  height: max-content;\n  margin: auto;\n}\n@media screen and (min-width: 1025px) {\n  .AB-PLP-DTM .product-item__price-wrap {\n    flex-direction: row;\n  }\n  .AB-PLP-DTM .ab-savings-percentage {\n    margin-left: 0;\n    margin-right: 0;\n  }\n}\n",document.head.appendChild(t),setTimeout((()=>{clearInterval(e)}),5e3)}}),100),(()=>{const e={client:"ROI Revolution",project:"springhillnursery",site_url:"https://springhillnursery.com/",test_name:"Product Listing Page - Show Discount Percentage [DTM]",page_initials:"AB-PLP-DTM",test_variation:1,test_version:2e-4};function t(){document.querySelectorAll(".product-item__price-wrap:has(.sale)").forEach(((e,t)=>{let n=e.closest(".ab-savings-percentage");n||(n=document.createElement("span"),n.className="displayed-discount badge-shape fs-body-75 ab-savings-percentage",n.setAttribute("data-badge-shape","rounded-rectangle"),e.insertAdjacentElement("afterend",n));const r=e.querySelector(".sale"),o=e.querySelector("s.t-subdued");n.innerText="Save "+function(e,t){let n,r;if(e.querySelector("s.t-subdued")){const o=t.textContent.match(/[\d,.]+/),a=e.textContent.match(/\$\s?([\d,.]+)/g);if(!o||!a||a.length<2)return null;if(n=parseFloat(o[0].replace(/,/g,"")),r=parseFloat(a[a.length-1].replace(/[^0-9.]/g,"")),isNaN(n)||isNaN(r)||n<=r)return null}else{const o=t.textContent,a=e.textContent,i=o.match(/[\d,.]+/),c=a.match(/[\d,.]+/);if(!i||!c)return null;if(n=parseFloat(i[0].replace(/,/g,"")),r=parseFloat(c[0].replace(/,/g,"")),isNaN(n)||isNaN(r)||n<=r)return null}const o=(n-r)/n*100;return Math.round(o)}(r,o)+"%"}))}!function e(t,n,r=1e4,o=100){r<=0?console.warn(`Timeout reached while waiting for condition: ${t.toString()}`):t&&t()?n():setTimeout((()=>{e(t,n,r-o,o)}),o)}((function(){return!!(window.location.href.includes("/collections/")&&document.querySelector(`body:not(.${e.page_initials}):not(${e.page_initials}--v${e.test_variation})`)&&document.querySelector(".collection__products-container #root"))}),(function(){console.table(e);const{page_initials:n,test_variation:r,test_version:o}=e;document.body.classList.add(n,`${n}--v${r}`,`${n}--version${o}`),t(),function(){const e=document.querySelector(".collection__products-container #root");new MutationObserver(((e,n)=>{t()})).observe(e,{childList:!0})}()}))})();
