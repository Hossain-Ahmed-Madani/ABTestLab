(()=>{let t=!0;const e={25:!1,50:!1,75:!1,100:!1};function n(t,e=""){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":t,"ga4-event-p2-name":"event_label","ga4-event-p2-value":e})}function o(t,e,n=2e4,l=150){n<=0||(t&&t()?e():setTimeout((()=>o(t,e,n-l,l)),l))}function l(t,e){return document.querySelector(t)}function s(t,e){return e?[...t.querySelectorAll(e)]:[...document.querySelectorAll(t)]}function c(){const t=s(".dss-content h2, .dss-content h3").reduce(((t,e)=>e.textContent.trim().length>0?t+1:t),0);l("#nav").insertAdjacentHTML("afterend",`\n                <div class="ab-scroll-and-table-contents ${t>0?"":"ab-scroll-and-table-contents--only-scroll"}">\n                    <div class="ab-scroll-container" data-scroll="25"></div>\n                    ${function(){const t=s(".dss-content h2, .dss-content h3").filter((t=>t.textContent.trim().length>0)),e=t?.[0],n=e?.textContent.split(".")?.[1]||e?.textContent;return`\n            <div class="ab-table-contents-container container">\n                <a class="ab-schedule-free-consultation" href="https://www.bergerlawsc.com/contact.cfm">Schedule Your Free Consultation â†’</a>\n                ${t.length>0?`\n                          <div class="ab-table-contents-title">Table of Contents</div>\n                          <div class="ab-table-content-selection" data-state="closed">\n                              <div class="ab-table-content-selected-item">\n                                  <span>1.</span>\n                                  <span class="ab-ellipsis-one-lines">${n}</span>\n                              </div>\n                              <ul class="ab-table-content-list">\n                                  ${Array.from(t).map(((e,n)=>{e.setAttribute("id",`section-${n+1}`);const o=e.textContent.split(".")[1]||e.textContent;return`\n                                              <li targetH3="#section-${n+1}" class="ab-table-content-item" ${0===n?"selected":""}>\n                                                  <span>1.${n+1}</span>\n                                                  <span class=" ab-ellipsis-one-lines">${o}</span>\n                                              </li>\n\n                                              ${1===t.length?`\n                                                        <li targetH3="#section-${n+1}" class="ab-table-content-item">\n                                                            <span>1.${n+1}</span>\n                                                            <span class=" ab-ellipsis-two-lines">${o}</span>\n                                                        </li>\n                                                    `:""}\n                                          `})).join("")}\n                              </ul>\n                          </div>\n                      `:""}\n            </div>\n        `}()}\n                </div>\n            `)}function a(){const t={"(max-width: 575px)":200,"(min-width: 576px) and (max-width: 991px)":230,"(min-width: 992px)":150},e=Object.keys(t).find((t=>window.matchMedia(t).matches));return e?t[e]:150}function i(){const t=[25,50,75,100];return{handleScrollGa4Goal:()=>{const o=(e=>t.reduce(((t,n)=>e>=n?n:t),0))((window.scrollY||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100);25!==o||e[25]?50!==o||e[50]?75!==o||e[75]?100!==o||e[100]||(e[100]=!0,n("BL10_Scrolldepth","100%")):(e[75]=!0,n("BL10_Scrolldepth","75%")):(e[50]=!0,n("BL10_Scrolldepth","50%")):(e[25]=!0,n("BL10_Scrolldepth","25%"))}}}function r(){const t=l(".ab-scroll-container"),e=l(".main-content .dss-content");if(!e)return;const{getScrollPercent:n,closestMilestone:o}=function(t){const e=[25,50,75,100];return{getScrollPercent:()=>{if(!t)return 0;t.getBoundingClientRect();const e=window.innerHeight,n=window.scrollY||document.documentElement.scrollTop,o=t.offsetTop,l=o-e,s=o+t.offsetHeight-e;let c=0;return c=n<=l?0:n>=s?100:(n-l)/(s-l)*100,Math.min(Math.max(c,0),100)},closestMilestone:t=>e.reduce(((e,n)=>t>=n?n:e),25)}}(e),s=o(n());void 0===window.scrollMilestones&&(window.scrollMilestones={25:!1,50:!1,75:!1,100:!1});const c=Math.max(s,25);t.setAttribute("data-scroll",c),25!==c||window.scrollMilestones[25]?50!==c||window.scrollMilestones[50]?75!==c||window.scrollMilestones[75]?100!==c||window.scrollMilestones[100]||(window.scrollMilestones[100]=!0):window.scrollMilestones[75]=!0:window.scrollMilestones[50]=!0:window.scrollMilestones[25]=!0}function d(){const{handleScrollGa4Goal:e}=i(),{handleAutoSelect:n}=function(){const e=s(".dss-content h2, .dss-content h3").reduce(((t,e)=>e.textContent.trim().length>0?t+1:t),0),n=a(),o=[...s(".ab-table-content-item")];return{handleAutoSelect:()=>{1!==e&&!1!==t&&o.forEach((t=>{const e=l(t.getAttribute("targeth3")).getBoundingClientRect().top;e>100&&e<=n&&!t.hasAttribute("selected")&&(o.forEach((t=>t.removeAttribute("selected"))),t.setAttribute("selected",""),l(".ab-table-content-selected-item").innerHTML=t.innerHTML)}))}}}();o((()=>l(".ab-scroll-container")),(()=>{const t=function(t,e){let n;return function(...o){n||(t.apply(this,o),n=!0,setTimeout((()=>n=!1),e))}}(r,50);window.addEventListener("scroll",(o=>{n(),e(),t()}))}))}function u(t){const e=l(".ab-table-content-selection");"show"===t?e.setAttribute("data-state","opened"):"hide"===t&&e.setAttribute("data-state","closed")}function b(){[{selector:".ab-schedule-free-consultation",event:"click",callback:t=>{const e=t.target.closest(".ab-schedule-free-consultation").getAttribute("href");window.location.replace(e)}},{selector:".ab-scroll-and-table-contents",event:"click",callback:t=>t.preventDefault()},{selector:".ab-table-content-selection",event:"mouseenter",callback:t=>{window.innerWidth>=1200&&u("show")}},{selector:".ab-table-content-selection",event:"mouseleave",callback:t=>{window.innerWidth>=1200&&u("hide")}},{selector:"body",event:"click",callback:t=>{window.innerWidth>=1200||t.target.closest(".ab-table-content-selection")||u("hide")}},{selector:".ab-table-content-selected-item",event:"click",callback:t=>{"closed"===l(".ab-table-content-selection").getAttribute("data-state")?u("show"):u("hide")}},{selector:".ab-table-content-item",event:"click",callback:e=>{if(e.target.hasAttribute("selected"))setTimeout((()=>u("hide")),50);else if(!e.target.hasAttribute("selected")){l(".ab-table-content-selection");const o=[...s(".ab-table-content-item")],c=l(".ab-table-content-item[selected]"),i=e.target.closest(".ab-table-content-item");if(0===o.indexOf(i)&&!e.target.closest("span"))return void u("hide");c.getAttribute("targeth3")!==i.getAttribute("targeth3")&&(o.forEach((t=>t.removeAttribute("selected"))),i.setAttribute("selected","true"),l(".ab-table-content-selected-item").innerHTML=i.innerHTML),u("hide"),function(e){if(!e)return;const o=l(e),s=a();t=!1,window.scrollTo({top:o.offsetTop-s,behavior:"smooth"}),n("BL10_Tableofcontent",o.textContent),setTimeout((()=>t=!0),2e3)}(i.getAttribute("targetH3"))}}}].forEach((({selector:t,event:e,callback:n})=>{o((()=>t&&s(t).length>0),(()=>{s(t).forEach((t=>t.addEventListener(e,n)))}))}))}const{page_initials:h,test_variation:w,test_version:m}={page_initials:"AB-BL10",test_variation:1,test_version:9e-4};o((function(){return!!(l(`body:not(.${h}):not(${h}--v${w})`)&&l("#nav")&&l(".dss-content"))}),(function(){document.body.classList.add(h,`${h}--v${w}`,`${h}--version:${m}`),c(),b(),d()}))})();
