(()=>{const t={page_initials:"AB-BL10",test_variation:1,test_version:3e-4};function e(t,e=""){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":t,"ga4-event-p2-name":"event_label","ga4-event-p2-value":e})}function n(t,e,o=2e4,a=150){o<=0||(t&&t()?e():setTimeout((()=>n(t,e,o-a,a)),a))}function o(t,e){return document.querySelector(t)}function a(t,e){return e?[...t.querySelectorAll(e)]:[...document.querySelectorAll(t)]}function s(){const t=a(".dss-content h2, .dss-content h3").reduce(((t,e)=>e.textContent.trim().length>0?t+1:t),0);o("#nav").insertAdjacentHTML("afterend",`\n                <div class="ab-scroll-and-table-contents ${t>0?"":"ab-scroll-and-table-contents--only-scroll"}">\n                    <div class="ab-scroll-container" data-scroll="25"></div>\n                    ${a(".dss-content h2, .dss-content h3").length>0?function(){const t=a(".dss-content h2, .dss-content h3").filter((t=>t.textContent.trim().length>0)),e=t[0];return`\n            <div class="ab-table-contents-container container">\n                <div class="ab-table-contents-title">Table of Contents</div>\n                <div class="ab-table-content-selection" data-state="closed">\n                    <div class="ab-table-content-selected-item">\n                        <span>1.1</span>\n                        <span class="ab-ellipsis-two-lines">${e.textContent.split(".")?.[1]||e.textContent}</span>\n                    </div>\n                    <ul class="ab-table-content-list">\n                        ${Array.from(t).map(((e,n)=>{e.setAttribute("id",`section-${n+1}`);const o=e.textContent.split(".")[1]||e.textContent;return`\n                                    <li targetH3="#section-${n+1}" class="ab-table-content-item" ${0===n?"selected":""}>\n                                        <span>1.${n+1}</span>\n                                        <span class=" ab-ellipsis-two-lines">${o}</span>\n                                    </li>\n\n                                    ${1===t.length?`\n                                              <li targetH3="#section-${n+1}" class="ab-table-content-item">\n                                                  <span>1.${n+1}</span>\n                                                  <span class=" ab-ellipsis-two-lines">${o}</span>\n                                              </li>\n                                          `:""}\n                                `})).join("")}\n                    </ul>\n                </div>\n            </div>\n        `}():""}\n                </div>\n            `)}function c(){const t={"(max-width: 575px)":200,"(min-width: 576px) and (max-width: 991px)":230,"(min-width: 992px)":150},e=Object.keys(t).find((t=>window.matchMedia(t).matches));return e?t[e]:150}function l(){const t=o(".ab-scroll-container"),{getScrollPercent:n,closestMilestone:a}={getScrollPercent:()=>(window.scrollY||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100,closestMilestone:t=>[25,50,75,100].reduce(((e,n)=>t>=n?n:e),0)},s={25:!1,50:!1,75:!1,100:!1},c=a(n());c>=25&&t.setAttribute("data-scroll",c),25!==c||s[25]?50!==c||s[50]?75!==c||s[75]?100!==c||s[100]||(e("BL10_Scrolldepth","100%"),s[100]=!0):(e("BL10_Scrolldepth","75%"),s[75]=!0):(e("BL10_Scrolldepth","50%"),s[50]=!0):(s[25]=!0,e("BL10_Scrolldepth","25%"))}function i(){const{handleAutoSelect:t}=function(){const t=a(".dss-content h2, .dss-content h3").reduce(((t,e)=>e.textContent.trim().length>0?t+1:t),0),e=c(),n=[...a(".ab-table-content-item")];return{handleAutoSelect:()=>{1!==t&&n.forEach((t=>{const a=o(t.getAttribute("targeth3")).getBoundingClientRect().top;a>100&&a<=e&&!t.hasAttribute("selected")&&(n.forEach((t=>t.removeAttribute("selected"))),t.setAttribute("selected",""),o(".ab-table-content-selected-item").innerHTML=t.innerHTML)}))}}}();t(),l()}function r(){n((()=>o(".ab-scroll-container")),(()=>{const t=function(t,e){let n;return function(...o){n||(t.apply(this,o),n=!0,setTimeout((()=>n=!1),e))}}(i,50);window.addEventListener("scroll",t)}))}function d(t){const e=o(".ab-table-content-selection");"show"===t?e.setAttribute("data-state","opened"):"hide"===t&&e.setAttribute("data-state","closed")}function b(){[{selector:".ab-scroll-and-table-contents",event:"click",callback:t=>t.preventDefault()},{selector:".ab-table-content-selection",event:"mouseenter",callback:t=>{window.innerWidth>=1200&&d("show")}},{selector:".ab-table-content-selection",event:"mouseleave",callback:t=>{window.innerWidth>=1200&&d("hide")}},{selector:".ab-table-content-selected-item",event:"click",callback:t=>{window.innerWidth<1200&&d("show")}},{selector:".ab-table-content-item",event:"click",callback:t=>{if(t.target.hasAttribute("selected")&&window.innerWidth<1200)setTimeout((()=>d("hide")),50);else if(!t.target.hasAttribute("selected")){const n=o(".ab-table-content-selection"),s=[...a(".ab-table-content-item")],l=o(".ab-table-content-item[selected]"),i=t.target.closest(".ab-table-content-item");l.getAttribute("targeth3")!==i.getAttribute("targeth3")&&(s.forEach((t=>t.removeAttribute("selected"))),i.setAttribute("selected","true"),o(".ab-table-content-selected-item").innerHTML=i.innerHTML),0!==s.indexOf(i)&&setTimeout((()=>n.setAttribute("data-state","closed")),50),function(t){if(!t)return;const n=o(t),a=c();window.scrollTo({top:n.offsetTop-a,behavior:"smooth"}),e("BL10_Tableofcontent",n.textContent)}(i.getAttribute("targetH3"))}}}].forEach((({selector:t,event:e,callback:o})=>{n((()=>t&&a(t).length>0),(()=>{a(t).forEach((t=>t.addEventListener(e,o)))}))}))}n((function(){return!!(o(`body:not(.${t.page_initials}):not(${t.page_initials}--v${t.test_variation})`)&&o("#nav")&&o(".dss-content"))}),(function(){const{page_initials:e,test_variation:n,test_version:o}=t;document.body.classList.add(e,`${e}--v${n}`,`${e}--version:${o}`),s(),b(),r()}))})();
