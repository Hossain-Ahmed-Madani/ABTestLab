(()=>{const e={client:"Acadia",project:"bergerlawsc",site_url:"https://www.bergerlawsc.com/",test_name:"BL10: [LIBRARY] Increase Scroll Depth-(2) SET UP TEST",page_initials:"AB-BL10",test_variation:1,test_version:1e-4};function t(e,t=""){console.log(`BL10: Firing GA4 Event: ${e} - ${t}`),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"GA4event","ga4-event-name":"cro_event","ga4-event-p1-name":"event_category","ga4-event-p1-value":e,"ga4-event-p2-name":"event_label","ga4-event-p2-value":t})}function n(e,t,o=2e4,a=150){o<=0?console.warn(`Timeout reached while waiting for condition: ${e.toString()}`):e&&e()?t():setTimeout((()=>n(e,t,o-a,a)),a)}function o(){document.querySelector("#nav").insertAdjacentHTML("afterend",`\n                <div class="ab-scroll-and-table-contents">\n                    <div class="ab-scroll-container" data-scroll="25"></div>\n                    ${document.querySelectorAll(".dss-content h3").length>0?`\n            <div class="ab-table-contents-container container">\n                <div class="ab-table-contents-title">Table of Contents</div>\n                <div class="ab-table-content-selection" data-state="closed">\n                    <div class="ab-table-content-selected-item">\n                        <span>1.1</span>\n                        <span>${document.querySelector(".dss-content h3:first-of-type").textContent.split(".")[1]}</span>\n                    </div>\n                    <ul class="ab-table-content-list">\n                        ${Array.from(document.querySelectorAll(".dss-content h3")).map(((e,t)=>(e.setAttribute("id",`section-${t+1}`),`\n                                    <li targetH3="#section-${t+1}" class="ab-table-content-item" ${0===t?"selected":""}>\n                                        <span>1.${t+1}</span>\n                                        <span>${e.textContent.split(".")[1]}</span>\n                                    </li>\n                                `))).join("")}\n                    </ul>\n                </div>\n            </div>\n        `:""}\n                </div>\n            `)}function a(){n((()=>document.querySelector(".ab-scroll-container")),(()=>{const e=document.querySelector(".ab-scroll-container"),n=[25,50,75,100];let o={25:!1,50:!1,75:!1,100:!1};window.addEventListener("scroll",(()=>{const a=function(e){return n.reduce(((t,n)=>e>=n?n:t),0)}((window.scrollY||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100);a>=25&&e.setAttribute("data-scroll",a),25!==a||o[25]?50!==a||o[50]?75!==a||o[75]?100!==a||o[100]||(t("BL10_Scrolldepth","100%"),o[100]=!0):(t("BL10_Scrolldepth","75%"),o[75]=!0):(t("BL10_Scrolldepth","50%"),o[50]=!0):(o[25]=!0,t("BL10_Scrolldepth","25%"))}))}))}n((function(){return!!(window.location.href.includes("/library/")&&document.querySelector(`body:not(.${e.page_initials}):not(${e.page_initials}--v${e.test_variation})`)&&document.querySelector("#nav")&&document.querySelector(".dss-content h3"))}),(function(){console.table(e);const{page_initials:c,test_variation:l,test_version:s}=e;document.body.classList.add(c,`${c}--v${l}`,`${c}--version:${s}`),o(),a(),n((()=>!(!document.querySelector(".ab-scroll-and-table-contents")||!document.querySelector(".ab-table-content-selection"))),(()=>{document.querySelector(".ab-scroll-and-table-contents").addEventListener("click",(e=>e.preventDefault()));const e=document.querySelector(".ab-table-content-selection");e.addEventListener("mouseenter",(t=>{e.setAttribute("data-state","opened")})),e.addEventListener("mouseleave",(t=>{e.setAttribute("data-state","closed")})),document.querySelector(".ab-table-content-selection").addEventListener("click",(n=>{if(n.target.closest(".ab-table-content-selected-item"))e.setAttribute("data-state","opened");else if(n.target.closest(".ab-table-content-item[selected]")&&setTimeout((()=>{e.setAttribute("data-state","closed")}),50),n.target.closest(".ab-table-content-item:not([selected])")){document.querySelectorAll(".ab-table-content-item").forEach((e=>e.removeAttribute("selected")));const o=n.target.closest(".ab-table-content-item");o.setAttribute("selected","true"),document.querySelector(".ab-table-content-selected-item").innerHTML=o.innerHTML,setTimeout((()=>{e.setAttribute("data-state","closed")}),50);const a=o.getAttribute("targetH3"),c=document.querySelector(a),l={"(max-width: 575px)":200,"(min-width: 576px) and (max-width: 991px)":230,"(min-width: 992px)":150},s=Object.keys(l).find((e=>window.matchMedia(e).matches)),i=s?l[s]:150;window.scrollTo({top:c.offsetTop-i,behavior:"smooth"}),t("BL10_Tableofcontent",c.textContent)}}))}))}))})();
